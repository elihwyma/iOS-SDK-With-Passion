/*
 Image: /System/Library/PrivateFrameworks/CloudKitDaemon.framework/CloudKitDaemon
 */

#import <Foundation/NSObject.h>

@class C2RequestOptions, CKDOperation, CKDOperationMetrics, CKDProtobufStreamWriter, CKDProtocolTranslator, CKDResponseBodyParser, CKDTapToRadarRequest, CKDTrafficLogger, NSArray, NSData, NSDate, NSDictionary, NSError, NSHTTPURLResponse, NSInputStream, NSMutableArray, NSMutableDictionary, NSMutableSet, NSNumber, NSString, NSURL, NSURLRequest, NSURLSession, NSURLSessionDataTask;

@protocol CKDAccountAccessInfoProvider, CKDAccountInfoProvider, CKDContextInfoProvider, CKDURLRequestAuthRetryDelegate, CKDURLRequestMetricsDelegate, OS_dispatch_queue, OS_os_activity, OS_voucher;

__attribute__((visibility("hidden")))
@interface CKDURLRequest : NSObject

{
    id <CKDAccountInfoProvider> _accountInfoProvider;
    id <CKDContextInfoProvider> _contextInfoProvider;
    id <CKDAccountAccessInfoProvider> _accountAccessInfoProvider;
    long long _responseStatusCode;
    NSString *_requestUUID;
    _Bool _didSendRequest;
    _Bool _didFinishLoading;
    _Bool _finished;
    _Bool _didRetrySignature;
    CKDResponseBodyParser *_responseBodyParser;
    _Bool _allowAutomaticRedirects;
    CDUnknownBlockType _requestProgressBlock;
    CDUnknownBlockType _responseProgressBlock;
    CDUnknownBlockType _completionBlock;
    NSData *_fakeResponseData;
    _Bool _haveParsedFakeResponseData;
    CKDProtobufStreamWriter *_streamWriter;
    NSObject<OS_os_activity> *_osActivity;
    NSObject<OS_os_activity> *_transmissionActivity;
    _Bool _needsAuthRetry;
    _Bool _isWaitingOnAuthRenew;
    _Bool _isHandlingAuthRetry;
    _Bool _didRetryAuth;
    _Bool _cancelled;
    _Bool _haveCachedServerType;
    _Bool _haveCachedPartitionType;
    _Bool _didReceiveResponseBodyData;
    NSDictionary *_requestProperties;
    NSArray *_requestOperations;
    id <CKDURLRequestMetricsDelegate> _metricsDelegate;
    id <CKDURLRequestAuthRetryDelegate> _authRetryDelegate;
    CKDProtocolTranslator *_translator;
    NSString *_automatedDeviceGroup;
    NSDictionary *_clientProvidedAdditionalHeaderValues;
    NSDictionary *_fakeResponseOperationResultByItemID;
    NSError *_error;
    CKDOperation *_operation;
    NSObject<OS_dispatch_queue> *_lifecycleQueue;
    NSURLSessionDataTask *_urlSessionTask;
    C2RequestOptions *_c2RequestOptions;
    NSURLRequest *_request;
    NSHTTPURLResponse *_response;
    NSURLSession *_urlSession;
    NSMutableSet *_responseObjectUUIDs;
    CKDTrafficLogger *_trafficLogger;
    NSString *_deviceID;
    unsigned long long _numDownloadedElements;
    long long _cachedServerType;
    long long _cachedPartitionType;
    NSDate *_dateRequestWentOut;
    CKDOperationMetrics *_metrics;
    NSDictionary *_timingData;
    NSObject<OS_voucher> *_voucher;
    NSString *_cloudKitAuthToken;
    NSString *_iCloudAuthToken;
    NSString *_serverProvidedAutoBugCaptureReason;
    CKDTapToRadarRequest *_serverProvidedTapToRadarRequest;
    NSString *_serverProvidedAutoSysdiagnoseCollectionReason;
    NSMutableDictionary *_countsByRequestOperationType;
    NSMutableDictionary *_overriddenHeaders;
    NSMutableArray *_redirectHistory;
}

@property (weak, nonatomic) CKDOperation *operation;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *lifecycleQueue;
@property (retain) NSURLSessionDataTask *urlSessionTask;
@property (retain) C2RequestOptions *c2RequestOptions;
@property (retain) NSURLRequest *request;
@property (retain) NSHTTPURLResponse *response;
@property (retain) NSError *error;
@property (retain) NSURLSession *urlSession;
@property (retain, nonatomic) NSMutableSet *responseObjectUUIDs;
@property (retain, nonatomic) CKDTrafficLogger *trafficLogger;
@property (copy, nonatomic) NSString *deviceID;
@property (nonatomic) unsigned long long numDownloadedElements;
@property (nonatomic) _Bool didRetryAuth;
@property (getter=isCancelled) _Bool cancelled;
@property (nonatomic) _Bool haveCachedServerType;
@property (nonatomic) _Bool haveCachedPartitionType;
@property (nonatomic) long long cachedServerType;
@property (nonatomic) long long cachedPartitionType;
@property (retain, nonatomic) CKDProtocolTranslator *translator;
@property (retain) NSDate *dateRequestWentOut;
@property (retain, nonatomic) CKDOperationMetrics *metrics;
@property (retain, nonatomic) NSDictionary *timingData;
@property (retain, nonatomic) NSObject<OS_voucher> *voucher;
@property (retain, nonatomic) NSString *cloudKitAuthToken;
@property (retain, nonatomic) NSString *iCloudAuthToken;
@property (nonatomic) _Bool didReceiveResponseBodyData;
@property (copy, nonatomic) NSString *serverProvidedAutoBugCaptureReason;
@property (retain, nonatomic) CKDTapToRadarRequest *serverProvidedTapToRadarRequest;
@property (retain, nonatomic) NSString *serverProvidedAutoSysdiagnoseCollectionReason;
@property (retain, nonatomic) NSMutableDictionary *countsByRequestOperationType;
@property (retain, nonatomic) NSMutableDictionary *overriddenHeaders;
@property (retain, nonatomic) NSMutableArray *redirectHistory;
@property (nonatomic, readonly) _Bool allowsCellularAccess;
@property (nonatomic, readonly) NSString *authPromptReason;
@property (nonatomic, readonly) _Bool resolvedAutomaticallyRetryNetworkFailures;
@property (nonatomic, readonly) unsigned long long resolvedDiscretionaryNetworkBehavior;
@property (nonatomic, readonly) unsigned long long duetPreClearedMode;
@property (nonatomic, readonly) _Bool preferAnonymousRequests;
@property (nonatomic, readonly) _Bool allowsBackgroundNetworking;
@property (nonatomic, readonly) NSString *operationIDForProtobuf;
@property (nonatomic, readonly) NSString *operationGroupID;
@property (nonatomic, readonly) NSString *operationGroupName;
@property (nonatomic, readonly) NSNumber *operationGroupQuantity;
@property (nonatomic, readonly) unsigned long long networkServiceType;
@property (nonatomic, readonly) _Bool allowsPowerNapScheduling;
@property (nonatomic, readonly) NSString *operationID;
@property (retain, nonatomic) id <CKDAccountInfoProvider> accountInfoProvider;
@property (retain, nonatomic) id <CKDContextInfoProvider> contextInfoProvider;
@property (retain, nonatomic) id <CKDAccountAccessInfoProvider> accountAccessInfoProvider;
@property (weak, nonatomic) id <CKDURLRequestMetricsDelegate> metricsDelegate;
@property (weak, nonatomic) id <CKDURLRequestAuthRetryDelegate> authRetryDelegate;
@property (nonatomic) _Bool allowAutomaticRedirects;
@property (retain, nonatomic) NSDictionary *requestProperties;
@property (nonatomic, readonly) _Bool usesBackgroundSession;
@property (nonatomic, readonly) _Bool sendRequestAnonymously;
@property (retain, nonatomic) NSString *automatedDeviceGroup;
@property (nonatomic, readonly) long long databaseScope;
@property (nonatomic, readonly) NSString *sourceApplicationBundleIdentifier;
@property (nonatomic, readonly) NSString *sourceApplicationSecondaryIdentifier;
@property (nonatomic, readonly) CKDProtobufStreamWriter *streamWriter;
@property (copy, nonatomic) CDUnknownBlockType requestProgressBlock;
@property (copy, nonatomic) CDUnknownBlockType responseProgressBlock;
@property (copy, nonatomic) CDUnknownBlockType completionBlock;
@property (retain, nonatomic) CKDResponseBodyParser *responseBodyParser;
@property (nonatomic, readonly) NSString *httpMethod;
@property (nonatomic, readonly) NSDictionary *additionalHeaderValues;
@property (retain, nonatomic) NSDictionary *clientProvidedAdditionalHeaderValues;
@property (nonatomic, readonly) _Bool hasRequestBody;
@property (nonatomic, readonly) _Bool expectsResponseBody;
@property (nonatomic, readonly) NSInputStream *requestBodyStream;
@property (nonatomic, readonly) NSArray *requestOperations;
@property (nonatomic, readonly) NSArray *requestOperationClasses;
@property (nonatomic, readonly) int isolationLevel;
@property (nonatomic, readonly) int operationType;
@property (nonatomic, readonly) NSString *path;
@property (nonatomic, readonly) long long serverType;
@property (nonatomic, readonly) long long partitionType;
@property (nonatomic, readonly) NSURL *url;
@property (nonatomic, readonly) _Bool shouldCompressBody;
@property (nonatomic, readonly) NSString *acceptContentType;
@property (nonatomic, readonly) NSString *requestContentType;
@property (nonatomic, readonly) NSString *protobufOperationName;
@property (nonatomic, readonly) _Bool requestGETPreAuth;
@property (nonatomic, readonly) NSString *sectionID;
@property (retain, nonatomic) NSDictionary *fakeResponseOperationResultByItemID;
@property (readonly) _Bool isFinished;
@property (nonatomic, readonly) NSDictionary *responseHeaders;
@property (nonatomic, readonly) long long responseStatusCode;
@property (nonatomic, readonly) NSURL *lastRedirectURL;
@property (nonatomic, readonly) NSString *requestUUID;
@property _Bool needsAuthRetry;
@property _Bool isWaitingOnAuthRenew;
@property _Bool isHandlingAuthRetry;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (copy, readonly) NSString *description;
@property (copy, readonly) NSString *debugDescription;
@property (nonatomic, readonly) long long qualityOfService;
@property (nonatomic, readonly) NSString *flowControlKey;

- (id)init;
- (void)dealloc;
- (void)cancel;
- (id)deviceIdentifier;
- (void)finishWithError:(id)arg1;
- (double)timeoutIntervalForResource;
- (void)URLSession:(id)arg1 task:(id)arg2 willPerformHTTPRedirection:(id)arg3 newRequest:(id)arg4 completionHandler:(CDUnknownBlockType)arg5;
- (void)URLSession:(id)arg1 task:(id)arg2 didReceiveChallenge:(id)arg3 completionHandler:(CDUnknownBlockType)arg4;
- (void)URLSession:(id)arg1 task:(id)arg2 needNewBodyStream:(CDUnknownBlockType)arg3;
- (void)URLSession:(id)arg1 task:(id)arg2 didSendBodyData:(long long)arg3 totalBytesSent:(long long)arg4 totalBytesExpectedToSend:(long long)arg5;
- (void)URLSession:(id)arg1 task:(id)arg2 didCompleteWithError:(id)arg3;
- (void)URLSession:(id)arg1 dataTask:(id)arg2 didReceiveData:(id)arg3;
- (void)URLSession:(id)arg1 dataTask:(id)arg2 didReceiveResponse:(id)arg3 completionHandler:(CDUnknownBlockType)arg4;
- (_Bool)validate:(id *)arg1;
- (void)URLSession:(id)arg1 task:(id)arg2 _willSendRequestForEstablishedConnection:(id)arg3 completionHandler:(CDUnknownBlockType)arg4;
- (void)URLSession:(id)arg1 _taskIsWaitingForConnection:(id)arg2;
- (void)URLSession:(id)arg1 task:(id)arg2 _conditionalRequirementsChanged:(_Bool)arg3;
- (void)URLSession:(id)arg1 _willRetryBackgroundDataTask:(id)arg2 withError:(id)arg3;
- (double)timeoutIntervalForRequest;
- (id)ckShortDescription;
- (id)CKDescriptionPropertiesWithPublic:(_Bool)arg1 private:(_Bool)arg2 shouldExpand:(_Bool)arg3;
- (id)requestOptions;
- (_Bool)markAsFinished;
- (id)_errorFromHTTPResponse:(id)arg1;
- (id)statusReportWithIndent:(unsigned long long)arg1;
- (void)performRequest;
- (id)requestOperationCountsByOperationType;
- (void)_tearDownStreamWriter;
- (id)generateRequestOperations;
- (_Bool)includeContainerInfo;
- (id)createAssetAuthorizeGetRequestOptionsHeaderInfoWithKey:(id)arg1 value:(id)arg2;
- (void)_registerRequestOperationTypesForOperations:(id)arg1;
- (_Bool)usesiCloudAuthToken;
- (_Bool)usesCloudKitAuthToken;
- (void)tearDownResourcesAndReleaseTheZoneLocks;
- (void)performOnLifecycleQueueIfNotFinished:(CDUnknownBlockType)arg1;
- (void)_renewAuthTokenWithCompletionHandler:(CDUnknownBlockType)arg1;
- (void)_handleAuthFailure;
- (long long)_handleServerProtobufResult:(id)arg1 rawData:(id)arg2;
- (id)requestDidParseProtobufObject:(id)arg1;
- (void)requestDidParseNodeFailure:(id)arg1;
- (long long)_handleServerJSONResult:(id)arg1;
- (void)requestDidParseJSONObject:(id)arg1;
- (long long)_handlePlistResult:(id)arg1;
- (void)requestDidParsePlistObject:(id)arg1;
- (Class)expectedResponseClass;
- (_Bool)parsingStandaloneMessage;
- (CDUnknownBlockType)_protobufObjectParsedBlock;
- (CDUnknownBlockType)_jsonObjectParsedBlock;
- (CDUnknownBlockType)_xmlObjectParsedBlock;
- (void)requestDidParsePlaintextObject:(id)arg1;
- (void)requestDidParse509CertObject:(id)arg1;
- (void)_finishOnLifecycleQueueWithError:(id)arg1;
- (_Bool)allowsAnonymousAccount;
- (void)_setupPublicDatabaseURL;
- (void)performASyncOnLifecycleQueueIfNotFinished:(CDUnknownBlockType)arg1;
- (_Bool)requiresAppPartitionURL;
- (void)_setupPrivateDatabaseURL;
- (_Bool)requiresUserPartitionURL;
- (void)_setupConfiguration;
- (_Bool)requiresConfiguration;
- (void)_fetchContainerScopedUserID;
- (_Bool)allowsAuthedAccount;
- (void)_fetchDeviceID;
- (_Bool)requiresDeviceID;
- (void)_acquireZoneGates;
- (_Bool)requiresTokenRegistration;
- (void)_performRequest;
- (id)zoneIDsToLock;
- (void)_prepareAuthTokens;
- (void)_prepareCloudKitAuthToken;
- (void)prepareRequestWithCompletion:(CDUnknownBlockType)arg1;
- (void)_authTokenWithCompletionHandler:(CDUnknownBlockType)arg1;
- (void)_registerPushTokens;
- (Class)requestMessageClass;
- (void)_loadRequest:(id)arg1;
- (void)tearDownResources;
- (id)_CFNetworkTaskIdentifierString;
- (_Bool)_onLifecycleQueue;
- (id)_wrapErrorIfNecessary:(id)arg1;
- (void)_triggerAutoBugCaptureWithErrorPayload:(id)arg1;
- (id)defaultParserForContentType:(id)arg1;
- (void)requestDidComplete;
- (_Bool)shouldLogResponseBody;
- (_Bool)expectsSingleObject;
- (void)overrideRequestHeader:(id)arg1 withValue:(id)arg2;
- (id)operationRequestWithType:(int)arg1;

@end
