/*
 Image: /System/Library/PrivateFrameworks/PowerlogLiteOperators.framework/PowerlogLiteOperators
 */

#import <PowerlogCore/PLService.h>

@class NSArray, NSDate, NSDictionary, NSMutableDictionary, NSMutableSet, NSSet, NSString, PLEntryNotificationOperatorComposition, PLTimer;

@interface PLAppTimeService : PLService

{
    _Bool _displayOn;
    _Bool _isAPOn;
    _Bool _deviceIsPluggedIn;
    _Bool _inCallNow;
    _Bool _musicPlayerForeground;
    _Bool _lastTelephonyRegistrationStatus;
    _Bool _lastAirplaneModeStatus;
    PLEntryNotificationOperatorComposition *_coalitionCallback;
    PLEntryNotificationOperatorComposition *_screenstateCallback;
    PLEntryNotificationOperatorComposition *_applicationCallback;
    PLEntryNotificationOperatorComposition *_batteryCallback;
    PLEntryNotificationOperatorComposition *_displayCallback;
    PLEntryNotificationOperatorComposition *_InCallServiceCallback;
    PLEntryNotificationOperatorComposition *_pluginCallback;
    PLEntryNotificationOperatorComposition *_audioCallback;
    PLEntryNotificationOperatorComposition *_nowPlayingCallback;
    PLEntryNotificationOperatorComposition *_statusBarCallback;
    PLEntryNotificationOperatorComposition *_backgroundTransferCallback;
    PLEntryNotificationOperatorComposition *_cellularConditionCallback;
    PLEntryNotificationOperatorComposition *_telephonyRegistrationCallback;
    PLEntryNotificationOperatorComposition *_canSleepEntryNotifications;
    PLEntryNotificationOperatorComposition *_wakeEntryNotifications;
    NSDate *_lastScreenOnTime;
    NSDate *_lastScreenEventAccountingTime;
    NSMutableDictionary *_inFlightBundleIDStartTime;
    PLTimer *_runTimeAggregatorTimer;
    NSArray *_lastLayoutEntries;
    NSSet *_excludedFGAppsSet;
    NSSet *_excludedBGAppsSet;
    NSDate *_lastCallTime;
    NSString *_lastCallBundleID;
    NSMutableSet *_coalitionsAppsOnScreen;
    NSMutableSet *_appsOnScreen;
    NSMutableSet *_PiPModeApps;
    NSMutableSet *_watchkitExtensions;
    NSString *_nowPlayingBundleID;
    NSString *_statusBarBundleID;
    NSDate *_lastNowPlayingTime;
    NSDate *_lastStatusBarTime;
    NSDate *_lastCellularConditionTime;
    long long _lastSignalBar;
    NSMutableDictionary *_audioPlaybackBundleIDs;
    NSString *_aggregatedEntryKeyForAppRunTime;
    NSString *_entryKeyPLScreenStateAgentScreenState;
    NSString *_entryKeyPLCoalitionAgentEventIntervalCoalition;
    NSDictionary *_backgroundAppToBundleID;
    NSString *_entryKeyUsageTime;
    NSDate *_lastAPOnTimeSBC;
    double _totalAPOnTimeSBC;
    NSDate *_lastScreenOnTimeSBC;
    double _totalFGTimeSBC;
    NSMutableSet *_bundleIDsInBackground;
    NSDate *_firstBGAppTimeSBC;
    double _totalBGTimeSBC;
    NSSet *_excludedBundleIDsInBackground;
    NSDate *_lastPluggedInTime;
}

@property (retain) PLEntryNotificationOperatorComposition *coalitionCallback;
@property (retain) PLEntryNotificationOperatorComposition *screenstateCallback;
@property (retain) PLEntryNotificationOperatorComposition *applicationCallback;
@property (retain) PLEntryNotificationOperatorComposition *batteryCallback;
@property (retain) PLEntryNotificationOperatorComposition *displayCallback;
@property (retain) PLEntryNotificationOperatorComposition *InCallServiceCallback;
@property (retain) PLEntryNotificationOperatorComposition *pluginCallback;
@property (retain) PLEntryNotificationOperatorComposition *audioCallback;
@property (retain) PLEntryNotificationOperatorComposition *nowPlayingCallback;
@property (retain) PLEntryNotificationOperatorComposition *statusBarCallback;
@property (retain) PLEntryNotificationOperatorComposition *backgroundTransferCallback;
@property (retain) PLEntryNotificationOperatorComposition *cellularConditionCallback;
@property (retain) PLEntryNotificationOperatorComposition *telephonyRegistrationCallback;
@property (readonly) PLEntryNotificationOperatorComposition *canSleepEntryNotifications;
@property (readonly) PLEntryNotificationOperatorComposition *wakeEntryNotifications;
@property _Bool displayOn;
@property _Bool isAPOn;
@property _Bool deviceIsPluggedIn;
@property (retain) NSDate *lastScreenOnTime;
@property (retain) NSDate *lastScreenEventAccountingTime;
@property (retain) NSMutableDictionary *inFlightBundleIDStartTime;
@property (retain) PLTimer *runTimeAggregatorTimer;
@property (retain) NSArray *lastLayoutEntries;
@property (readonly) NSSet *excludedFGAppsSet;
@property (readonly) NSSet *excludedBGAppsSet;
@property _Bool inCallNow;
@property (retain) NSDate *lastCallTime;
@property (retain) NSString *lastCallBundleID;
@property (retain) NSMutableSet *coalitionsAppsOnScreen;
@property (retain) NSMutableSet *appsOnScreen;
@property (retain) NSMutableSet *PiPModeApps;
@property (retain) NSMutableSet *watchkitExtensions;
@property (retain) NSString *nowPlayingBundleID;
@property (retain) NSString *statusBarBundleID;
@property _Bool musicPlayerForeground;
@property (retain) NSDate *lastNowPlayingTime;
@property (retain) NSDate *lastStatusBarTime;
@property (retain) NSDate *lastCellularConditionTime;
@property long long lastSignalBar;
@property _Bool lastTelephonyRegistrationStatus;
@property _Bool lastAirplaneModeStatus;
@property (retain) NSMutableDictionary *audioPlaybackBundleIDs;
@property (retain) NSString *aggregatedEntryKeyForAppRunTime;
@property (readonly) NSString *entryKeyPLScreenStateAgentScreenState;
@property (readonly) NSString *entryKeyPLCoalitionAgentEventIntervalCoalition;
@property (readonly) NSDictionary *backgroundAppToBundleID;
@property (retain) NSString *entryKeyUsageTime;
@property (retain) NSDate *lastAPOnTimeSBC;
@property double totalAPOnTimeSBC;
@property (retain) NSDate *lastScreenOnTimeSBC;
@property double totalFGTimeSBC;
@property (retain) NSMutableSet *bundleIDsInBackground;
@property (retain) NSDate *firstBGAppTimeSBC;
@property double totalBGTimeSBC;
@property (retain) NSSet *excludedBundleIDsInBackground;
@property (retain) NSDate *lastPluggedInTime;

+ (void)load;
+ (id)defaults;
+ (id)entryAggregateDefinitionAppRunTime;
+ (id)entryAggregateDefinitionUsageTime;
+ (id)entryAggregateDefinitionMetrics;
+ (id)entryAggregateDefinitionCellularCondition;
+ (id)entryAggregateDefinitions;

- (id)init;
- (id)backgroundAppToBundleIDmapping;
- (void)loadWatchKitExtensionsSet;
- (id)generateExcludedBGBundleIDs;
- (void)handleCoalitionCallback:(id)arg1;
- (id)buildCallBack:(id)arg1 withGroup:(_Bool)arg2 withHandler:(CDUnknownBlockType)arg3;
- (void)handleScreenStateCallback:(id)arg1;
- (void)handleApplicationCallback:(id)arg1;
- (void)handleBatteryCallback:(id)arg1;
- (void)handleDisplayCallback:(id)arg1;
- (void)handleInCallServiceCallback:(id)arg1;
- (void)handlePluginCallback:(id)arg1;
- (void)handleAudioCallback:(id)arg1;
- (void)handleNowPlayingCallback:(id)arg1;
- (void)handleStatusBarCallback:(id)arg1;
- (void)handleBackgroundTransferCallback:(id)arg1;
- (void)handleSleepCallBack:(id)arg1;
- (void)handleWakeCallBack:(id)arg1;
- (void)periodicUpdateAppRunTimeWithDate:(id)arg1;
- (void)chunkScreenOnAggregationAtDate:(id)arg1;
- (void)updateAggregationsAtDate:(id)arg1 withNewPluggedInState:(_Bool)arg2;
- (void)handleCellularConditionCallback:(id)arg1;
- (void)handleTelephonyRegistrationCallback:(id)arg1;
- (void)testService;
- (void)updateAggregationsAtDate:(id)arg1 withNewAPState:(_Bool)arg2;
- (void)updateInCallServiceTimeInDBForBundleId:(id)arg1 withTime:(double)arg2 withDate:(id)arg3;
- (void)handleCoalitionCallback:(id)arg1 withNewCoalitionArray:(id)arg2;
- (void)addNowPlayingTimeAtDate:(id)arg1;
- (void)addStatusBarTimeAtDate:(id)arg1;
- (void)addCellularConditionTimeAtDate:(id)arg1;
- (void)addAudioTimeAtDate:(id)arg1;
- (void)addForegroundTimeAtDate:(id)arg1 withNewLayoutElementsArray:(id)arg2;
- (void)updateBackgroundTimeForAppStateEntry:(id)arg1;
- (void)updateInCallServiceTimeAtDate:(id)arg1;
- (void)updateAggregationsAtDate:(id)arg1 withNewScreenState:(_Bool)arg2;
- (id)remapCloudDocsBundleID:(id)arg1;
- (void)updateBackgroundTimeInDBForBundleId:(id)arg1 withTime:(double)arg2 withDate:(id)arg3;
- (void)updateBackgroundAppsForBundleID:(id)arg1 withState:(unsigned int)arg2 withDate:(id)arg3;
- (void)updateAppRunTimeForBundleId:(id)arg1 withAppStateUpdateType:(int)arg2 withNowDate:(id)arg3;
- (void)updatePiPModeAppsSet:(id)arg1 withAppRole:(id)arg2;
- (void)updateScreenOnTimeInDBForBundleId:(id)arg1 withTime:(double)arg2 withDate:(id)arg3;
- (void)updateCoalitionsAppsOnScreenSet:(id)arg1;
- (void)resetLayoutElementsPLEntryArray:(id)arg1 withNowDate:(id)arg2;
- (double)getCPUTime:(id)arg1;
- (double)convertCPUTimeToBackgroundTime:(double)arg1 withDuration:(double)arg2;
- (void)updateAggregationsAtSBCWithDate:(id)arg1 withLongestCoalitionBGTime:(double)arg2 withCoalitionLength:(double)arg3;
- (void)addAudioAndLocationTimeAtDate:(id)arg1;
- (void)addAudioTimeAtDate:(id)arg1 forBundleID:(id)arg2;
- (void)updateScreenOffTimeAtDate:(id)arg1 withDiff:(double)arg2;
- (void)updateScreenOnTimeAtDate:(id)arg1 withDiff:(double)arg2;
- (void)updatePluggedInTimeAtDate:(id)arg1 withDiff:(double)arg2;
- (void)initOperatorDependancies;
- (void)debugAppTimeService;

@end
