/*
 Image: /System/Library/PrivateFrameworks/Symptoms.framework/Frameworks/SymptomEvaluator.framework/SymptomEvaluator
 */

#import <SymptomEvaluator/ExpertSystemHandlerCore.h>

@class AWDObserver, AnalyticsConfigurationObserver, CLIPSShim, CellFallbackHandler, CoreTelephonyShim, MotionStateRelay, NSArray, NSDataDetector, NSDate, NSMutableArray, NSMutableDictionary, NSNumber, NSObject, NSString, NSXPCConnection, NetworkAnalyticsStateRelay, PowerStateRelay, ProbeManager, SDRDiagnosticReporter, SymptomExpertSystemState, SymptomsFileCleaner, SystemProperties, SystemSettingsRelay;

@protocol OS_dispatch_source;

@interface SymptomExpertSystemHandler : ExpertSystemHandlerCore

{
    NSMutableDictionary *_interfaceNameToType;
    SymptomExpertSystemState *currentState;
    NSArray *states;
    id relayReadyObserver;
    SystemSettingsRelay *settingsRelay;
    PowerStateRelay *powerRelay;
    NetworkAnalyticsStateRelay *cellRelay;
    NetworkAnalyticsStateRelay *wifiRelay;
    CellFallbackHandler *rnfRelay;
    SystemProperties *systemPropsRelay;
    unsigned int administrativeState;
    unsigned int relayObservingState;
    NSMutableDictionary *relayToFacts;
    NSDate *lastWiFiAssociationTime;
    CoreTelephonyShim *ctShim;
    MotionStateRelay *motionRelay;
    CDStruct_9f5255db coreTelephonyRelayContext;
    CDStruct_9f5255db wifiRelayContext;
    CDStruct_9f5255db wifiScalarRelayContext;
    CDStruct_9f5255db cellRelayContext;
    CDStruct_9f5255db cellScalarRelayContext;
    CDStruct_9f5255db systemRelayContext;
    CDStruct_9f5255db systemScalarRelayContext;
    CDStruct_9f5255db systemSymptomRelayContext;
    CDStruct_9f5255db hardwareRelayContext;
    NSString *_airdropID;
    unsigned long long _asyncKVOCount;
    _Bool _pendingEngineRun;
    CLIPSShim *ruleEngine;
    _Bool _loadedCLIPSRulesAndFacts;
    _Bool _failedToLoadDefaultRules;
    _Bool _didScheduleCleanupTask;
    NSString *_pendingOTACLIPSUpdate;
    NSString *_pendingOTACLIPSUpdateVersion;
    NSString *_pendingOTACLIPSUpdateModule;
    NSMutableDictionary *_pendingOTACLIPSUpdates;
    unsigned long long idsNoteMessageCount;
    NSDate *idsNoteMessageLastCLIPSIngestible;
    _Bool _observingAutoBugCaptureEnabled;
    _Bool _observingAutoFeedbackAssistantEnabled;
    _Bool _observingInstalledVisibleProfiles;
    _Bool _observingAWDMetrics;
    _Bool _internalBuild;
    _Bool _carrierSeedBuild;
    _Bool _internalOrCarrierSeedBuild;
    _Bool _customerSeedBuild;
    unsigned long long _stepper;
    NSNumber *_apSleep;
    NSMutableArray *_incomingSymptoms;
    NSMutableArray *_processedSymptoms;
    NSString *_diagnosticSessionIdentifier;
    NSMutableArray *_caseSignatures;
    NSMutableDictionary *_diagnosticSessionOutput;
    NSDate *_lastSymptomRun;
    NSMutableDictionary *_obfuscations;
    NSDataDetector *_urlDetector;
    NSDate *_diagSessionExpectedEnd;
    long long _diagnosingStrobeInterval;
    long long _maximumDiagnosingTime;
    AWDObserver *_awdObserver;
    AnalyticsConfigurationObserver *_analyticsConfigObserver;
    NSMutableDictionary *_awdCLIPSMapping;
    NSMutableArray *_awdCLIPSModules;
    NSObject<OS_dispatch_source> *_clipsReleaseMemoryTimer;
    NSObject<OS_dispatch_source> *_clipsAWDObserverTimer;
    NSObject<OS_dispatch_source> *_loadDefaultRulesTimer;
    NSObject<OS_dispatch_source> *_loggingProfileTimeoutTimer;
    NSMutableDictionary *_clipsFactsWaitTimers;
    ProbeManager *_probeManager;
    NSDate *_completedInitializationDate;
    SDRDiagnosticReporter *_sdrReporter;
    NSXPCConnection *_privateConnection;
    SymptomsFileCleaner *_abcCleaner;
}

@property unsigned long long stepper;
@property (retain, nonatomic) NSMutableArray *incomingSymptoms;
@property (retain, nonatomic) NSMutableArray *processedSymptoms;
@property (retain, nonatomic) NSString *diagnosticSessionIdentifier;
@property (retain, nonatomic) NSMutableArray *caseSignatures;
@property (retain, nonatomic) NSMutableDictionary *diagnosticSessionOutput;
@property (retain, nonatomic) NSDate *lastSymptomRun;
@property (retain, nonatomic) NSMutableDictionary *obfuscations;
@property (retain, nonatomic) NSDataDetector *urlDetector;
@property (retain, nonatomic) NSDate *diagSessionExpectedEnd;
@property (nonatomic) long long diagnosingStrobeInterval;
@property (nonatomic) long long maximumDiagnosingTime;
@property (retain, nonatomic) AWDObserver *awdObserver;
@property (nonatomic) _Bool observingAWDMetrics;
@property (retain, nonatomic) AnalyticsConfigurationObserver *analyticsConfigObserver;
@property (retain, nonatomic) NSMutableDictionary *awdCLIPSMapping;
@property (retain, nonatomic) NSMutableArray *awdCLIPSModules;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *clipsReleaseMemoryTimer;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *clipsAWDObserverTimer;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *loadDefaultRulesTimer;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *loggingProfileTimeoutTimer;
@property (retain, nonatomic) NSMutableDictionary *clipsFactsWaitTimers;
@property (retain, nonatomic) ProbeManager *probeManager;
@property (retain, nonatomic) NSDate *completedInitializationDate;
@property (retain, nonatomic) SDRDiagnosticReporter *sdrReporter;
@property (retain, nonatomic) NSXPCConnection *privateConnection;
@property (retain, nonatomic) SymptomsFileCleaner *abcCleaner;
@property (retain, nonatomic) NSNumber *apSleep;
@property (nonatomic) _Bool internalBuild;
@property (nonatomic) _Bool carrierSeedBuild;
@property (nonatomic) _Bool internalOrCarrierSeedBuild;
@property (nonatomic) _Bool customerSeedBuild;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (copy, readonly) NSString *description;
@property (copy, readonly) NSString *debugDescription;

+ (id)sharedInstance;
+ (id)configureClass:(id)arg1;
+ (_Bool)noteSymptom:(id)arg1;
+ (id)libtraceInfo:(id)arg1;
+ (id)internalStateDictionary;
+ (_Bool)parseEndpoint:(id)arg1 intoURL:(id *)arg2 host:(id *)arg3 scheme:(id *)arg4 path:(id *)arg5;

- (id)init;
- (void)dealloc;
- (void)observeValueForKeyPath:(id)arg1 ofObject:(id)arg2 change:(id)arg3 context:(void *)arg4;
- (void)observer:(id)arg1 handleEvent:(id)arg2;
- (void)observer:(id)arg1 didChangeConfiguration:(id)arg2 type:(id)arg3;
- (void)_dumpState;
- (_Bool)postAWDEvent:(id)arg1;
- (_Bool)noteSymptom:(id)arg1;
- (void)_completeInitialization;
- (void)_removeDebuggabilityFolder;
- (void)stopAWDObserving:(CDUnknownBlockType)arg1;
- (void)resetPreviousObfuscations;
- (void)releaseAllRelayFacts;
- (void)_removeAllObservers;
- (void)registerAllCLIPSCallbacks;
- (void)cancelAllWaitingForFactTimers;
- (void)unloadAWDObservedModules;
- (_Bool)loadDefaultRules;
- (void)startLoadDefaultRulesTimer:(double)arg1;
- (void)_addAllObservers;
- (void)setDefaultFacts;
- (void)runEngine;
- (void)cancelDiagnosticSession:(id)arg1;
- (void)_bringStateToRunning;
- (void)_bringStateToIdle;
- (void)_addExternalRelayObservers;
- (void)onDisruptiveFlowChange:(id)arg1;
- (void)operatorNameChangedForSubscription:(id)arg1;
- (void)signalStrengthChangedForSubscription:(id)arg1;
- (void)processWiFiAssociationChange:(_Bool)arg1 atTime:(id)arg2;
- (void)_removeExternalRelayObservers;
- (void)_administrativeDisable;
- (void)retractFact:(void *)arg1 moduleName:(id)arg2 run:(_Bool)arg3;
- (void)assertRelayFact:(id)arg1 forRelayKey:(id)arg2 moduleName:(id)arg3;
- (void *)assertFactString:(id)arg1 moduleName:(id)arg2 run:(_Bool)arg3;
- (_Bool)loadModule:(id)arg1 requiresBasebandModule:(_Bool)arg2;
- (void)_bringStateToDiagnosing;
- (void)processRelayStateChange:(id)arg1 key:(id)arg2 relay:(id)arg3 scalar:(_Bool)arg4;
- (void)_administrativeEnable;
- (id)symptomDictionaryForSymptom:(id)arg1 domain:(id)arg2 type:(id)arg3;
- (void)_processLibnetcoreSymptom:(id)arg1 symptomName:(id)arg2;
- (_Bool)urlIsAppleDomain:(id)arg1;
- (void)_processSymptomsdEnergyBackgroundRRCExcActivity:(id)arg1 symptomName:(id)arg2;
- (void)_processSymptomsdFlowCountExceededThreshold:(id)arg1 symptomName:(id)arg2;
- (void)_processSymptomsdMbufPeak:(id)arg1 symptomName:(id)arg2;
- (void)_processSymptomsdRnfSymptom:(id)arg1 symptomName:(id)arg2 categoryType:(id)arg3;
- (void)_processSymptomsdWiFiShimSymptom:(id)arg1 symptomName:(id)arg2;
- (void)_processSymptomsdEnergyBackgroundFullActivityMap:(id)arg1 symptomName:(id)arg2;
- (void)_processUIPerformanceThunderingHerdCase:(id)arg1 symptomName:(id)arg2;
- (void)_processSymptomsdExcessiveFailedConnections:(id)arg1 symptomName:(id)arg2;
- (id)arbitratorDictionaryForSymptom:(id)arg1 procName:(id)arg2 interfaceType:(id)arg3 eventCount:(id)arg4 duration:(id)arg5;
- (void)_processAnomalousFlowSymptom:(id)arg1 symptomName:(id)arg2 categoryType:(id)arg3;
- (_Bool)isAWDEventEligibleForCLIPSIngestion:(id)arg1;
- (id)awdCLIPSModuleDictForModule:(id)arg1;
- (void)processIncomingOTAUpdate:(id)arg1;
- (void)ingestPendingOTAUpdates;
- (void)startAWDObserverTimer;
- (void)_airplaySymptom:(id)arg1;
- (void)_symptomsdSymptom:(id)arg1;
- (void)_usageUpdaterSymptom:(id)arg1;
- (void)_libtraceOSLog:(id)arg1;
- (id)internalStateDictionary;
- (void)startDiagnosticSessionWithDomain:(id)arg1 type:(id)arg2 subType:(id)arg3 subTypeContext:(id)arg4 processID:(id)arg5 processName:(id)arg6 bundleID:(id)arg7 interfaceType:(id)arg8 threshold:(id)arg9 sessionDuration:(id)arg10;
- (void)startDiagnosticSessionWithDomain:(id)arg1 type:(id)arg2 subType:(id)arg3 subTypeContext:(id)arg4 processID:(id)arg5 processName:(id)arg6 bundleID:(id)arg7 interfaceType:(id)arg8 threshold:(id)arg9 sessionDuration:(id)arg10 triggerRemoteCase:(id)arg11;
- (void)snapshotDiagnosticSessionWithDomain:(id)arg1 type:(id)arg2 subType:(id)arg3 subTypeContext:(id)arg4 processID:(id)arg5 processName:(id)arg6 bundleID:(id)arg7 interfaceType:(id)arg8 threshold:(id)arg9 sessionDuration:(id)arg10;
- (void)addDiagnosticSession:(id)arg1 hasDictionary:(id)arg2 endSession:(id)arg3;
- (void)endDiagnosticSession:(id)arg1;
- (void)logSessionEventProbe:(id)arg1 endpoint:(id)arg2 interface:(id)arg3 status:(id)arg4;
- (void)logSessionEventSymptom:(id)arg1 process:(id)arg2 endpoint:(id)arg3 interface:(id)arg4;
- (void)logSessionEventMessage:(id)arg1;
- (void)waitForFactWithTemplateName:(id)arg1 module:(id)arg2 timeout:(id)arg3;
- (void)cancelWaitForFactWithTemplateName:(id)arg1;
- (void)adjustStrobeTimerInterval:(id)arg1 maximum:(id)arg2;
- (id)interfaceTypeForName:(id)arg1;
- (id)awdObserveModule:(id)arg1 requiredModules:(id)arg2 unloadModule:(id)arg3;
- (void)unloadModule:(id)arg1;
- (void)deactivateModule:(id)arg1;
- (id)getBatteryPercentage:(id)arg1;
- (void)requestCoreTelephonyDumpViaDiagnosticExtension:(id)arg1 folderPrefix:(id)arg2 dumpReason:(id)arg3;
- (id)serviceToFactString:(id)arg1 type:(long long)arg2;
- (void)retractService:(id)arg1 type:(long long)arg2;
- (void)sendCaseSignaturesToSDRWithSessionID:(id)arg1;
- (void)checkObfuscationsInAllCaseSignatures;
- (struct _NSRange)rangeOfValueForSlotName:(id)arg1 in:(id)arg2;
- (id)obfuscatedPrimaryComponent:(id)arg1 obfuscationType:(id)arg2;
- (id)obfuscatedEndpoint:(id)arg1;
- (id)deParamsDictForDiagnosticExtension:(id)arg1 withDEParams:(id)arg2;
- (id)primaryComponent:(id)arg1 obfuscationType:(id)arg2;
- (id)obfuscatedSubcomponent:(id)arg1 fromPrimaryEntry:(id)arg2 withKey:(id)arg3 obfuscation:(id)arg4;
- (void)startAWDObserving:(id)arg1;
- (void)probeStatusUpdate:(id)arg1;
- (void)probeOutputFilePaths:(id)arg1 forDiagSessionUUID:(id)arg2;
- (void)serviceAdded:(id)arg1 type:(long long)arg2;
- (void)serviceUpdated:(id)arg1 type:(long long)arg2;
- (void)serviceRemoved:(id)arg1 type:(long long)arg2;
- (void)probeFactString:(id)arg1 module:(id)arg2 goIntoDiagnosing:(_Bool)arg3 run:(_Bool)arg4;
- (void)clipsConsoleOutput:(id)arg1 consoleChannel:(const char *)arg2 forEngine:(id)arg3;
- (void)fileCleanupComplete;
- (void)_configdSymptom:(id)arg1;
- (void)_libnetcoreSymptom:(id)arg1;
- (void)_processSymptomsdNoDefaultRoute:(id)arg1 symptomName:(id)arg2;
- (id)pendingOTACLIPSUpdates;
- (void)retractFacts:(id)arg1 runAfterLastFact:(_Bool)arg2;
- (void)assertFactAndRun:(id)arg1 module:(id)arg2 reply:(CDUnknownBlockType)arg3;
- (void)assertFactAsSymptom:(id)arg1 module:(id)arg2;

@end
