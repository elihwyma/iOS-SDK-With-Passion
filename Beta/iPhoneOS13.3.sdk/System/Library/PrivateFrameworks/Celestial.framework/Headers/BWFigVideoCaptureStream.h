/*
 Image: /System/Library/PrivateFrameworks/Celestial.framework/Celestial
 */

#import <NSObject.h>

@class BWSphereModeSelector, BWStillImageCaptureSettings, BWStillImageCaptureStreamSettings, BWStillImageTimeMachine, NSArray, NSData, NSDictionary, NSMutableArray, NSMutableDictionary, NSSet, NSString;

@protocol BWFaceDetector, BWFigVideoCaptureStreamDelegate, BWFigVideoCaptureStreamStillImageCaptureDelegate, BWObjectDetector, OS_dispatch_group, OS_dispatch_queue;

@interface BWFigVideoCaptureStream : NSObject

{
    struct OpaqueFigCaptureStream *_stream;
    _Bool _streaming;
    _Bool _suspended;
    _Bool _streamHasBeenSuspended;
    NSString *_portType;
    NSDictionary *_cachedVideoOutputConfigurations;
    NSDictionary *_cachedVideoOutputsEnabled;
    float _minimumFrameRate;
    float _maximumFrameRate;
    float _minimumSupportedFrameRate;
    float _maximumSupportedFrameRate;
    NSDictionary *_supportedProperties;
    NSArray *_supportedFormats;
    long long _activeFormatIndex;
    NSDictionary *_moduleInfo;
    _Bool _hasFocus;
    NSDictionary *_sensorIDDictionary;
    id <BWFigVideoCaptureStreamDelegate> _delegate;
    float _baseZoomFactor;
    float _baseZoomFactorAfterGDC;
    NSDictionary *_opticalCenterOffset;
    float _pixelSize;
    float _pixelsPerMicron;
    float _focalLength;
    float _lensFNumber;
    float _gravityFactor;
    NSDictionary *_focusPositionToLensMakersPFLLinearFit;
    NSData *_cameraViewMatrix;
    NSData *_cameraPoseMatrix;
    NSString *_nonLocalizedName;
    NSData *_lscGains;
    _Bool _isSlave;
    struct os_unfair_lock_s _cameraAccessLock;
    _Bool _clientProcessHasAccessToCamera;
    int _clientPID;
    NSString *_applicationID;
    struct os_unfair_lock_s _sphereLock;
    _Bool _sphereEnabled;
    _Bool _motionDataInvalid;
    BWSphereModeSelector *_sphereModeSelector;
    int _motionDataDeliveryEnabled;
    _Bool _isStationary;
    _Bool _timeMachineEnabled;
    int _timeMachineCapacity;
    BWStillImageTimeMachine *_timeMachine;
    struct os_unfair_lock_s _stillImageCaptureStateLock;
    _Bool _grabNextFrame;
    BWStillImageCaptureSettings *_activeResolvedStillImageCaptureSettings;
    BWStillImageCaptureStreamSettings *_activeResolvedStillImageCaptureStreamSettings;
    int _lastStillImageCaptureType;
    CDStruct_1b6d18a9 _lastStillImagePTS;
    _Bool _usesStillFusionReferenceFramePTSForDidCaptureCallback;
    _Bool _handlesHDRReferenceFrameReporting;
    NSMutableArray *_stillFusionBracketFramesMetadata;
    CDStruct_1b6d18a9 _HDRStillCaptureReferenceFramePTS;
    int _skippedFramesCountForAF;
    int _expectedImagesOrErrorsForCaptureStillImageNow;
    int _receivedImagesOrErrorsForCaptureStillImageNow;
    CDUnknownBlockType _stillImageBufferTimeMachineHandler;
    _Bool _stillImageCaptureEnabled;
    NSObject<OS_dispatch_queue> *_streamNotificationDispatchQueue;
    id <BWFigVideoCaptureStreamStillImageCaptureDelegate> _stillImageCaptureDelegate;
    NSObject<OS_dispatch_group> *_stillImageCaptureDelegateDispatchGroup;
    _Bool _objectDetectionMetadataRequested;
    _Bool _defersObjectDetectionStartup;
    NSDictionary *_faceDetectionConfiguration;
    struct OpaqueFigSimpleMutex *_objectDetectionConfigurationMutex;
    NSSet *_enabledDetectedObjectTypes;
    _Bool _faceDetectionEnabledSeparately;
    NSMutableDictionary *_currentObjectDetectionConfiguration;
    unsigned int _maxObjects;
    _Bool _isSynchronizationMaster;
    _Bool _synchronizedStreamsEnabled;
    int _masterToSlaveFrameRateRatio;
    _Bool _streamingRequiredWhenConfiguredAsSlave;
    int _sensorToOutputFrameRateRatioWhenConfiguredAsSlave;
    _Bool _firmwareTimeMachineEnabledWhenConfiguredAsSlave;
    NSDictionary *_geometricDistortionCoefficients;
    NSData *_focalPlaneCharacterizationCoefficients;
    int _ltmCurve;
    _Bool _ltmLookUpTableMetadataEnabled;
    _Bool _lumaHistogramMetadataEnabled;
    NSMutableDictionary *_keypointDetectionConfiguration;
    _Bool _keypointDetectionConfigured;
    _Bool _keypointDetectionEnabled;
    _Bool _stillImageKeypointDetectionEnabled;
    _Bool _highlightRecoverySuspended;
    _Bool _highlightRecoveryEnabled;
    _Bool _highlightRecoveryEnabledWhenConfiguredAsMasterOrSingleStream;
    _Bool _highlightRecoveryEnabledWhenConfiguredAsSlave;
    int _highlightRecoveryEnabledOnStream;
    id <BWFaceDetector> _faceDetector;
    id <BWObjectDetector> _objectDetector;
    NSDictionary *_stillImageNoiseReductionAndSharpeningConfiguration;
    int _multiBandNoiseReductionMode;
    _Bool _unifiedBracketingEnabled;
    _Bool _aeStatisticsEnabled;
    _Bool _rawFocusScoresEnabled;
    _Bool _focusBlurMapEnabled;
    _Bool _zeroShutterLagEnabled;
    int _autoFocusPositionSensorMode;
    CDStruct_1b6d18a9 _maxExposureDurationClientOverride;
    CDStruct_1b6d18a9 _maxExposureDurationFrameworkOverride;
    _Bool _maxExposureDurationHasBeenSet;
    float _aeMaxGain;
    float _momentCaptureVideoRecordingAEMaxGain;
    _Bool _lowLightVideoEnabled;
    CDStruct_79c71658 _sensorDimensions;
    _Bool _variableFrameRateVideoEnabled;
}

@property (readonly) struct OpaqueFigCaptureStream *stream;
@property (nonatomic) id <BWFigVideoCaptureStreamDelegate> delegate;
@property (readonly) NSString *portType;
@property (readonly) NSArray *supportedFormats;
@property (readonly) NSDictionary *moduleInfo;
@property (readonly) _Bool hasFocus;
@property (readonly) NSString *sensorIDString;
@property (readonly) NSDictionary *sensorIDDictionary;
@property (readonly) NSDictionary *geometricDistortionCoefficients;
@property (readonly) NSData *focalPlaneCharacterizationCoefficients;
@property (readonly) _Bool synchronizedStreamsEnabled;
@property (readonly) float baseZoomFactor;
@property (readonly) NSDictionary *opticalCenterOffset;
@property (readonly) float pixelSize;
@property (readonly) float pixelsPerMicron;
@property (readonly) float focalLength;
@property (readonly) float lensFNumber;
@property (readonly) float gravityFactor;
@property (readonly) NSDictionary *focusPositionToLensMakersPFLLinearFit;
@property (readonly) NSData *cameraViewMatrix;
@property (readonly) NSData *cameraPoseMatrix;
@property (readonly) NSString *nonLocalizedName;
@property (readonly) NSData *lscGains;
@property (nonatomic) float aeMaxGain;
@property (nonatomic) float momentCaptureVideoRecordingAEMaxGain;
@property (nonatomic) CDStruct_1b6d18a9 maxExposureDurationClientOverride;
@property (nonatomic) CDStruct_1b6d18a9 maxExposureDurationFrameworkOverride;
@property (nonatomic, readonly) CDStruct_1b6d18a9 maxExposureDuration;
@property (nonatomic) float minimumFrameRate;
@property (nonatomic) float maximumFrameRate;
@property (nonatomic) float maximumSupportedFrameRate;
@property (nonatomic) float minimumSupportedFrameRate;
@property (readonly) _Bool hasSphere;
@property (nonatomic) _Bool enablesSphereWhenAvailable;
@property (readonly) _Bool sphereEnabled;
@property (readonly) _Bool sphereVideoSupported;
@property (nonatomic) _Bool sphereVideoEnabled;
@property (nonatomic) _Bool avoidsSphereRecentering;
@property (nonatomic) _Bool depthDataDeliveryEnabled;
@property (nonatomic) int sphereThermalLevel;
@property (nonatomic) _Bool isStationary;
@property (nonatomic, readonly) struct __CFString *currentSphereMode;
@property (nonatomic) _Bool motionDataDeliveryEnabled;
@property (readonly) _Bool motionDataInvalid;
@property (nonatomic) _Bool defersObjectDetectionStartup;
@property (nonatomic, readonly) _Bool suspendingSupported;
@property (nonatomic, readonly) _Bool suspended;
@property (nonatomic, readonly) _Bool streaming;
@property (nonatomic) _Bool stillImageCaptureEnabled;
@property (nonatomic) id <BWFigVideoCaptureStreamStillImageCaptureDelegate> stillImageCaptureDelegate;
@property (nonatomic) _Bool usesStillFusionReferenceFramePTSForDidCaptureCallback;
@property (readonly) int timeMachineCapacity;
@property (nonatomic) _Bool timeMachineEnabled;
@property (copy, nonatomic) CDUnknownBlockType stillImageBufferTimeMachineHandler;
@property (nonatomic, readonly) int activeStillImageCaptureType;
@property (nonatomic, readonly) _Bool providesPreBracketedEV0;
@property (nonatomic, readonly) int bracketedCaptureSequenceNumberForOISLongExposure;
@property (nonatomic, readonly) int lastStillImageCaptureType;
@property (nonatomic, readonly) CDStruct_1b6d18a9 lastStillImagePTS;
@property (nonatomic, readonly, getter=isSynchronizationMaster) _Bool synchronizationMaster;
@property (nonatomic) int masterToSlaveFrameRateRatio;
@property (nonatomic) _Bool streamingRequiredWhenConfiguredAsSlave;
@property (nonatomic) int sensorToOutputFrameRateRatioWhenConfiguredAsSlave;
@property (nonatomic) _Bool firmwareTimeMachineEnabledWhenConfiguredAsSlave;
@property (readonly) NSDictionary *stillImageNoiseReductionAndSharpeningConfiguration;
@property (nonatomic) int ltmCurve;
@property (nonatomic) _Bool ltmLookUpTableMetadataEnabled;
@property (nonatomic) _Bool lumaHistogramMetadataEnabled;
@property (nonatomic) _Bool handlesHDRReferenceFrameReporting;
@property (nonatomic) _Bool keypointDetectionEnabled;
@property (nonatomic) _Bool stillImageKeypointDetectionEnabled;
@property (nonatomic) int multiBandNoiseReductionMode;
@property (nonatomic) _Bool highlightRecoverySuspended;
@property (nonatomic, readonly) _Bool highlightRecoveryEnabled;
@property (nonatomic) _Bool highlightRecoveryEnabledWhenConfiguredAsMasterOrSingleStream;
@property (nonatomic) _Bool highlightRecoveryEnabledWhenConfiguredAsSlave;
@property (nonatomic) _Bool unifiedBracketingEnabled;
@property (nonatomic) _Bool aeStatisticsEnabled;
@property (nonatomic) _Bool rawFocusScoresEnabled;
@property (nonatomic) _Bool focusBlurMapEnabled;
@property (nonatomic) _Bool zeroShutterLagEnabled;
@property (nonatomic) _Bool overCaptureEnabled;
@property (retain, nonatomic) id <BWFaceDetector> faceDetector;
@property (retain, nonatomic) id <BWObjectDetector> objectDetector;
@property (nonatomic) _Bool lowLightVideoEnabled;
@property (nonatomic) _Bool variableFrameRateVideoEnabled;
@property (nonatomic, readonly) int autoFocusPositionSensorMode;
@property float baseZoomFactorAfterGDC;

+ (void)initialize;

- (void)dealloc;
- (id)description;
- (int)stop;
- (int)start;
- (int)setSuspended:(_Bool)arg1;
- (void)setFaceDetectionConfiguration:(id)arg1;
- (_Bool)supportsProperty:(struct __CFString *)arg1;
- (void)_resetStillImageCaptureState;
- (void)_updateSphereMode;
- (void)unregisterForObjectDetectionMetadata;
- (void)setVisionDataSuspended:(_Bool)arg1;
- (void)triggerVisionDataBurst;
- (CDStruct_1b6d18a9)_updateMaxExposureDuration;
- (void)_setMaxExposureDuration:(CDStruct_1b6d18a9)arg1;
- (void)_setRequestedDetectedObjectTypes:(id)arg1;
- (void)_updateObjectDetectionEnabledOnStream;
- (int)_updateFaceDetectionConfigurationOnStream:(id)arg1;
- (void)_updateAETables;
- (void)_updateMotionDataStatus:(struct opaqueCMSampleBuffer *)arg1;
- (void)_updateAutoFocusPositionSensorModeForSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)_serviceTimeMachineWithSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)_addStillImageBracketFrameMetadataToSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)_handleStillImageSampleBuffer:(struct opaqueCMSampleBuffer *)arg1 withError:(int)arg2 fromTimeMachine:(_Bool)arg3;
- (void)_prepareForStillImageCaptureWithStillImageSettings:(id)arg1 fromCMTimeMachine:(_Bool)arg2;
- (_Bool)_updateCaptureStateWithStillImageSampleBuffer:(struct opaqueCMSampleBuffer *)arg1 orError:(int)arg2;
- (void)_updateMasterSlavePropertiesOnStream;
- (void)_updateSuspendStateForInfraredDepthStream;
- (void)_setLowPowerSphereModeEnabled:(_Bool)arg1;
- (void)_setHighlightRecoveryEnabled:(_Bool)arg1;
- (void)_configureKeypointDetection;
- (int)_setHighlightRecoveryEnabled:(_Bool)arg1 highlightRecoverySuspended:(_Bool)arg2;
- (id)_aeTables;
- (id)initWithFigCaptureStream:(struct OpaqueFigCaptureStream *)arg1 attributes:(id)arg2 sensorIDDictionary:(id)arg3 isSynchronizationMaster:(_Bool)arg4 synchronizedStreamsEnabled:(_Bool)arg5 cameraViewMatrix:(id)arg6 cameraPoseMatrix:(id)arg7 clientPID:(int)arg8 applicationID:(id)arg9 baseZoomFactor:(float)arg10 error:(int *)arg11;
- (int)setActiveFormatIndex:(long long)arg1;
- (long long)activeFormatIndex;
- (CDStruct_1b6d18a9)updateMaxExposureDurationClientOverride:(CDStruct_1b6d18a9)arg1;
- (void)setMotionDataInvalid:(_Bool)arg1;
- (void)registerForObjectDetectionMetadata:(id)arg1;
- (void)enableFaceDetection;
- (void)startupObjectDetectionIfNeeded;
- (void)sourceNodeWillStartStreaming;
- (void)sourceNodeDidStartStreaming;
- (void)sourceNodeFailedToStartStreaming;
- (void)sourceNodeWillStopStreaming;
- (void)sourceNodeDidStopStreaming;
- (void)sourceNodeWillEmitVideoSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)sourceNodeWillEmitVideoPreviewSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)sourceNodeWillDiscardVideoSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)sourceNodeWillEmitStillImageSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)sourceNodeWillEmitStillImageQuadraBufferProcessingError:(int)arg1;
- (void)sourceNodeWillEmitDetectedFacesSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)sourceNodeWillEmitDepthSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)captureStillImageFromTimeMachineWithStillImageSettings:(id)arg1;
- (void)prepareForStillImageCaptureFromFirmwareWithStillImageSettings:(id)arg1;
- (void)willCaptureStillImageFromFirmware;
- (void)failedToCaptureStillImageFromFirmwareWithError:(int)arg1;
- (void)willBecomeMasterStream;
- (void)didBecomeMasterStream;
- (void)willBecomeSlaveStream;
- (void)didBecomeSlaveStream;
- (int)multiBandNoiseReductionEnabled;
- (void)updateAETables;
- (void)setVisionDataKeypointDetectionThreshold:(float)arg1;

@end
