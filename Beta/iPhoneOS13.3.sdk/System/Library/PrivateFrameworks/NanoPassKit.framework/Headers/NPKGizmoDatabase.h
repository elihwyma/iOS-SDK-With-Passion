/*
 Image: /System/Library/PrivateFrameworks/NanoPassKit.framework/NanoPassKit
 */

#import <Foundation/NSObject.h>

@class NSArray, NSData, NSDictionary, NSMutableArray, NSMutableDictionary;

@protocol OS_dispatch_queue;

@interface NPKGizmoDatabase : NSObject

{
    struct sqlite3 *_database;
    struct sqlite3_stmt *_deleteStatement;
    struct sqlite3_stmt *_insertStatement;
    struct sqlite3_stmt *_insertDiffStatement;
    struct sqlite3_stmt *_selectPassDataStatement;
    struct sqlite3_stmt *_selectPassAndImageSetsDataStatement;
    struct sqlite3_stmt *_selectPassDiffStatement;
    struct sqlite3_stmt *_updateDeletePendingStatment;
    struct sqlite3_stmt *_selectDeletePendingStatement;
    struct sqlite3_stmt *_updatePreferredAIDStatement;
    struct sqlite3_stmt *_selectPreferredAIDStatement;
    struct sqlite3_stmt *_insertTransactionStatement;
    struct sqlite3_stmt *_removeTransactionStatement;
    struct sqlite3_stmt *_removeTransactionWithServiceIdentifier;
    struct sqlite3_stmt *_selectTransactionsStatement;
    struct sqlite3_stmt *_selectTransactionsStatementWithSource;
    struct sqlite3_stmt *_selectTransactionsStatementWithoutSource;
    struct sqlite3_stmt *_selectTransactionWithIdentifierStatement;
    struct sqlite3_stmt *_selectTransactionWithServiceIdentifierStatement;
    struct sqlite3_stmt *_selectPassUniqueIDAsssociateToTransactionWithIdentifierStatement;
    struct sqlite3_stmt *_selectPassUniqueIDAsssociateToTransactionWithServiceIdentifierStatement;
    struct sqlite3_stmt *_deleteTransactionsForPassStatement;
    struct sqlite3_stmt *_trimTransactionsForPassStatement;
    struct sqlite3_stmt *_selectTransitAppletStateForPassStatement;
    struct sqlite3_stmt *_updateTransitAppletStateForPassStatement;
    struct sqlite3_stmt *_insertEphemeralTransactionStatement;
    struct sqlite3_stmt *_deleteEphemeralTransactionByPassUniqueIDStatement;
    struct sqlite3_stmt *_currentEphemeralTransactionIdentifierStatement;
    struct sqlite3_stmt *_selectLastAddValueAmountForPassStatement;
    struct sqlite3_stmt *_updateLastAddValueAmountForPassStatement;
    struct sqlite3_stmt *_selectPendingAddValueDateForPassStatement;
    struct sqlite3_stmt *_updatePendingAddValueDateForPassStatement;
    struct sqlite3_stmt *_selectCloudKitArchivedTransactionsStatement;
    struct sqlite3_stmt *_selectBalancesForPassStatement;
    struct sqlite3_stmt *_updateBalancesForPassStatement;
    NSObject<OS_dispatch_queue> *_dbQueue;
    _Bool _isInTransaction;
    NSMutableDictionary *_manifest;
    NSMutableArray *_passDescriptions;
    NSArray *_libraryHashes;
    int _externallyChangedBroadcasts;
    _Bool _sendingLocalNotifyDatabaseChanged;
    _Bool _needsMoreLocalNotifyDatabaseChanged;
    _Bool _passDBIsAvailable;
}

@property (nonatomic) _Bool passDBIsAvailable;
@property (readonly) NSData *libraryHash;
@property (readonly) NSDictionary *manifestHashes;
@property (readonly) struct sqlite3 *database;
@property (readonly) struct sqlite3_stmt *deleteStatement;
@property (readonly) struct sqlite3_stmt *insertStatement;
@property (readonly) struct sqlite3_stmt *selectPassDataStatement;
@property (readonly) struct sqlite3_stmt *selectPassAndImageSetsDataStatement;
@property (readonly) struct sqlite3_stmt *selectPassDiffStatement;
@property (readonly) struct sqlite3_stmt *insertDiffStatement;
@property (readonly) struct sqlite3_stmt *updateDeletePendingStatement;
@property (readonly) struct sqlite3_stmt *updatePreferredAIDStatement;
@property (readonly) struct sqlite3_stmt *selectPreferredAIDStatement;
@property (readonly) struct sqlite3_stmt *selectTransactionWithIdentifierStatement;
@property (readonly) struct sqlite3_stmt *selectTransactionWithServiceIdentifierStatement;
@property (readonly) struct sqlite3_stmt *deleteTransactionsForPassStatement;
@property (readonly) struct sqlite3_stmt *trimTransactionsForPassStatement;
@property (readonly) struct sqlite3_stmt *selectTransitAppletStateForPassStatement;
@property (readonly) struct sqlite3_stmt *updateTransitAppletStateForPassStatement;
@property (readonly) struct sqlite3_stmt *insertEphemeralTransactionStatement;
@property (readonly) struct sqlite3_stmt *deleteEphemeralTransactionByPassUniqueIDStatement;
@property (readonly) struct sqlite3_stmt *currentEphemeralTransactionIdentifierStatement;
@property (readonly) struct sqlite3_stmt *selectLastAddValueAmountForPassStatement;
@property (readonly) struct sqlite3_stmt *updateLastAddValueAmountForPassStatement;
@property (readonly) struct sqlite3_stmt *selectPendingAddValueDateForPassStatement;
@property (readonly) struct sqlite3_stmt *updatePendingAddValueDateForPassStatement;
@property (readonly) struct sqlite3_stmt *selectCloudKitArchivedTransactionsStatement;
@property (readonly) NSArray *passDescriptions;
@property (nonatomic, readonly) unsigned long long numberOfPasses;

+ (id)_migrationDataSource;
+ (id)sharedDatabase;
+ (id)_migrationDelegateQueue;
+ (unsigned long long)latestWatchOSMajorVersion;
+ (long long)maxDatabaseVersion;
+ (void)setMigrationDataSource:(id)arg1;

- (id)init;
- (void)dealloc;
- (id)transactionWithServiceIdentifier:(id)arg1;
- (_Bool)_executeSQL:(id)arg1;
- (void)_handleHasMigrationDataSource;
- (_Bool)_preconditionsMetForDatabaseOpen;
- (_Bool)_table:(id)arg1 containsColumn:(id)arg2;
- (void)_enumerateAllPassesForMigration:(CDUnknownBlockType)arg1;
- (_Bool)_updateNFCPayloadDuringMigration:(id)arg1;
- (_Bool)_updatePrivateLabelAndCobrandDuringMigration:(id)arg1;
- (_Bool)_updateDeviceAndPreferredPaymentApplicationsDuringMigration:(id)arg1;
- (_Bool)_updateIngestedDatesDuringMigration:(id)arg1;
- (_Bool)_updateEffectivePaymentApplicationStateDuringMigration:(id)arg1;
- (_Bool)_updateHasUserSelectableContactlessPaymentApplications:(id)arg1;
- (_Bool)_updateEncodedPaymentPassDuringMigration:(id)arg1;
- (_Bool)_updateHasStoredValueDuringMigration:(id)arg1;
- (_Bool)_updateSettingsDuringMigration:(id)arg1;
- (_Bool)_updateCompleteLocalHashesDuringMigration:(id)arg1;
- (_Bool)_updateAvailableActionsDuringMigration:(id)arg1;
- (_Bool)_updateOrganizationNamesDuringMigration:(id)arg1;
- (_Bool)_updateFrontAndBackFieldBucketsDuringMigration:(id)arg1;
- (_Bool)_updateLocalizedDescriptionDuringMigration:(id)arg1;
- (_Bool)_updateDevicePaymentApplicationsDuringMigration:(id)arg1;
- (_Bool)_updatePrimaryContactlessAndInAppPaymentApplicationsDuringMigration:(id)arg1;
- (_Bool)_updateEncodedImageSetsDuringMigration:(id)arg1;
- (_Bool)_repairEncodedImagesDuringMigration:(id)arg1;
- (_Bool)_updateIssuerCountryCodesDuringMigration:(id)arg1;
- (_Bool)_updateExpressPassTypesMaskDuringMigration:(id)arg1;
- (_Bool)_updateCompleteRemoteHashesDuringMigration;
- (_Bool)_migrateDatabase:(CDUnknownBlockType)arg1;
- (void)_notifyDatabaseChangedExternally;
- (void)_notifyForFirstUnlock;
- (id)_decodeObjectOfClass:(Class)arg1 fromStatement:(struct sqlite3_stmt *)arg2 column:(int)arg3;
- (id)_decodeObjectOfClasses:(id)arg1 fromStatement:(struct sqlite3_stmt *)arg2 column:(int)arg3;
- (void)_loadInitialManifestLocked;
- (void)_savePassLocked:(id)arg1 locallyAdded:(_Bool)arg2 wasUpdate:(_Bool *)arg3;
- (id)_libraryHashLockedForWatchOSMajorVersion:(unsigned long long)arg1;
- (void)_notifyDatabaseChangedWithNoop:(_Bool)arg1;
- (void)_saveDiffLocked:(id)arg1 forPassWithUniqueID:(id)arg2;
- (_Bool)_removePassWithUniqueIDLocked:(id)arg1;
- (void)_performTransactionWithBlock:(CDUnknownBlockType)arg1;
- (void)_saveTransaction:(id)arg1 forPassWithUniqueID:(id)arg2 withPaymentCredentialType:(long long)arg3 shouldTrim:(_Bool)arg4;
- (void)_removeTransactionWithServiceIdentifierLocked:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)_saveTransactionLocked:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)_trimTransactionsForPassWithUniqueIDLocked:(id)arg1 withPaymentCredentialType:(long long)arg2;
- (void)_notifyTransactionAddedOrUpdated:(id)arg1 forPassWithUniqueID:(id)arg2;
- (id)_transactionWithIdentifierLocked:(id)arg1;
- (void)_removeTransactionWithIdentifier:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)_notifyTransactionRemoved:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)_removeTransactionsForPassWithUniqueID:(id)arg1;
- (id)_transactionsForUniqueIDLocked:(id)arg1 withTransactionSource:(unsigned long long)arg2 withBackingData:(unsigned long long)arg3 startDate:(id)arg4 endDate:(id)arg5 orderByDate:(long long)arg6 limit:(unsigned long long)arg7;
- (id)_transactionWithServiceIdentifierLocked:(id)arg1;
- (id)_passUniqueIDForTransactionWithIdentifier:(id)arg1;
- (id)_passUniqueIDForTransactionWithServiceIdentifier:(id)arg1;
- (id)_transitAppletStateForPassWithUniqueIDLocked:(id)arg1;
- (void)_setTransitAppletStateLocked:(id)arg1 forPassWithUniqueID:(id)arg2;
- (id)_paymentBalancesForPassWithUniqueIDLocked:(id)arg1;
- (void)_setPaymentBalancesLocked:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)_setCurrentEphemeralTransactionIdentifier:(id)arg1 forPassWithUniqueID:(id)arg2;
- (id)_currentEphemeralTransactionIdentifierForPassWithUniqueID:(id)arg1;
- (id)_transactionsWithCloudKitArchivedState:(_Bool)arg1;
- (void)_setLastAddValueAmountLocked:(id)arg1 forPassWithUniqueID:(id)arg2;
- (id)_lastAddValueAmountForPassWithUniqueIDLocked:(id)arg1;
- (void)_setPendingAddValueDateLocked:(id)arg1 forPassWithUniqueID:(id)arg2;
- (id)_pendingAddValueDateForPassWithUniqueIDLocked:(id)arg1;
- (id)transactionsForPassWithUniqueID:(id)arg1 withTransactionSource:(unsigned long long)arg2 withBackingData:(unsigned long long)arg3 startDate:(id)arg4 endDate:(id)arg5 orderedByDate:(long long)arg6 limit:(long long)arg7;
- (id)currentEphemeralTransactionIdentifierForPassWithUniqueID:(id)arg1;
- (id)paymentBalancesForPassWithUniqueID:(id)arg1;
- (void)setTransitAppletState:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)setLastAddValueAmount:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)setPendingAddValueDate:(id)arg1 forPassWithUniqueID:(id)arg2;
- (id)passForUniqueID:(id)arg1;
- (void)setPreferredPaymentApplication:(id)arg1 forPaymentPass:(id)arg2;
- (void)saveTransaction:(id)arg1 forPassWithUniqueID:(id)arg2 withPaymentCredentialType:(long long)arg3;
- (void)setCurrentEphemeralTransactionIdentifier:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)setPaymentBalances:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)_notifyDatabaseChangedWithNoop:(_Bool)arg1 firstUnlock:(_Bool)arg2;
- (_Bool)_passDBIsAvailableLocked;
- (id)_passForUniqueIDLocked:(id)arg1 includeImageSets:(_Bool)arg2;
- (id)_getPreferredPaymentApplicationForPaymentPass:(id)arg1 aid:(id *)arg2;
- (_Bool)_getDeletePendingForUniqueID:(id)arg1;
- (struct sqlite3_stmt *)insertTransactionStatement;
- (struct sqlite3_stmt *)removeTransactionWithServiceIdentifierStatement;
- (struct sqlite3_stmt *)removeTransactionStatement;
- (struct sqlite3_stmt *)selectTransactionsStatementWithTransactionSource:(unsigned long long)arg1 orderByDate:(long long)arg2;
- (struct sqlite3_stmt *)selectPassUniqueIDAsssociateToTransactionWithIdentifierStatement;
- (struct sqlite3_stmt *)selectPassUniqueIDAsssociateToTransactionWithServiceIdentifierStatement;
- (struct sqlite3_stmt *)selectBalancesForPassStatement;
- (struct sqlite3_stmt *)updateBalancesForPassStatement;
- (void)_executeSQLQuery:(id)arg1 processResultsBlock:(CDUnknownBlockType)arg2;
- (id)passForUniqueID:(id)arg1 includeImageSets:(_Bool)arg2;
- (id)_diffForUniqueIDLocked:(id)arg1;
- (struct sqlite3_stmt *)selectDeletePendingStatement;
- (id)libraryHashForWatchOSMajorVersion:(unsigned long long)arg1;
- (id)manifestHashesForWatchOSMajorVersion:(unsigned long long)arg1;
- (void)enumerateAllPassesAndDescriptionsWithBlock:(CDUnknownBlockType)arg1 includeImageSets:(_Bool)arg2;
- (long long)_databaseVersionExists:(_Bool *)arg1 valid:(_Bool *)arg2;
- (void)_updateDatabaseVersionRow:(long long)arg1;
- (void)_insertDatabaseVersionRow:(long long)arg1;
- (void)_attemptDatabaseOpen;
- (id)savePass:(id)arg1 isLocalPass:(_Bool)arg2;
- (void)saveDiff:(id)arg1 forPassWithUniqueID:(id)arg2;
- (id)removePassWithUniqueID:(id)arg1;
- (id)rebuildDatabaseWithPasses:(id)arg1;
- (void)saveTransaction:(id)arg1 forPass:(id)arg2;
- (void)removeTransactionWithIdentifier:(id)arg1 forPassWithUniqueID:(id)arg2;
- (void)removeTransactionsForPassWithUniqueID:(id)arg1;
- (id)transactionWithIdentifier:(id)arg1;
- (id)passUniqueIDForTransactionWithIdentifier:(id)arg1;
- (id)passUniqueIDForTransactionWithServiceIdentifier:(id)arg1;
- (id)transitAppletStateForPassWithUniqueID:(id)arg1;
- (id)transactionsWithCloudKitArchivedState:(_Bool)arg1;
- (id)lastAddValueAmountForPassWithUniqueID:(id)arg1;
- (id)pendingAddValueDateForPassWithUniqueID:(id)arg1;
- (CDUnknownBlockType)restoreBlockForVolatilePassData;
- (id)diffForUniqueID:(id)arg1;
- (void)setDeletePending:(_Bool)arg1 forUniqueID:(id)arg2;
- (id)preferredPaymentApplicationForPaymentPass:(id)arg1;
- (void)enumerateAllPassesWithBlock:(CDUnknownBlockType)arg1 includeImageSets:(_Bool)arg2;
- (_Bool)hasPassesMatchingPassDescriptionPredicate:(id)arg1;
- (id)filteredPassesUsingPassDescriptionPredicate:(id)arg1 includeImageSets:(_Bool)arg2;
- (void)_handleDatabaseChangedExternally;
- (void)_handleFirstUnlock;

@end
